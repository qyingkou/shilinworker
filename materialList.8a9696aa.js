!function(t){function e(e){for(var a,l,o=e[0],r=e[1],c=e[2],u=0,p=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&p.push(i[l][0]),i[l]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);for(d&&d(e);p.length;)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var r=s[o];0!==i[r]&&(a=!1)}a&&(n.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},i={3:0},n=[];function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=r;n.push([10,0]),s()}({0:function(t,e,s){"use strict";e.a={getFilesPath:function(t,e){var s=new FileReader,a=window.createObjectURL||window.URL.createObjectURL||window.webkitURL.createObjectURL;s.onerror=function(t){console.log(t)},s.onload=function(t){e(a(function(t){var e=t.split(","),s=e[0].match(/:(.*?);/)[1],a=atob(e[1]),i=a.length,n=new Uint8Array(i);for(;i--;)n[i]=a.charCodeAt(i);return new Blob([n],{type:s})}(this.result)))},s.readAsDataURL(t)}}},10:function(t,e,s){"use strict";s.r(e);var a=s(2),i=(s(3),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"g-page"},[s("div",{staticClass:"g-page__header"},[t._m(0),t._v(" "),s("div",{staticClass:"m-setting"},[s("div",{staticClass:"m-setting__header"},[s("h3",{staticClass:"ttl1"},[t._v("\n          设置\n          "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.setPanel,expression:"setPanel"}],staticClass:"u-iconfont u-icon-arrow-up",on:{click:function(e){t.setPanel=!1}}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.setPanel,expression:"!setPanel"}],staticClass:"u-iconfont u-icon-arrow-down",on:{click:function(e){t.setPanel=!0}}})])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.setPanel,expression:"setPanel"}],staticClass:"m-setting__bodyer"},[s("div",{staticClass:"m-form m-form-setting"},[s("div",{staticClass:"m-form__section"},[s("h4",{staticClass:"ttl2"},[t._v("页面相关：")]),t._v(" "),s("div",{staticClass:"m-form__item"},[s("h5",{staticClass:"ttl3"},[t._v("容器")]),t._v(" "),s("div",{staticClass:"m-form__itemcnt"},[s("label",[s("span",{staticClass:"u-lab"},[t._v("四周留白(px)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.page.padding,expression:"page.padding"}],staticClass:"u-ipt",attrs:{type:"text"},domProps:{value:t.page.padding},on:{input:function(e){e.target.composing||t.$set(t.page,"padding",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"m-form__section"},[s("h4",{staticClass:"ttl2"},[t._v("图片区域1：")]),t._v(" "),s("div",{staticClass:"m-form__item"},[s("h5",{staticClass:"ttl3"},[t._v("单元格")]),t._v(" "),s("div",{staticClass:"m-form__itemcnt"},[s("label",[s("span",{staticClass:"u-lab"},[t._v("每行列数")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.materials.cols,expression:"materials.cols"}],staticClass:"u-ipt",attrs:{type:"text"},domProps:{value:t.materials.cols},on:{input:function(e){e.target.composing||t.$set(t.materials,"cols",e.target.value)}}})]),t._v(" "),s("label",[s("span",{staticClass:"u-lab"},[t._v("水平间距(px)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.materials.paddingRight,expression:"materials.paddingRight"}],staticClass:"u-ipt",attrs:{type:"text"},domProps:{value:t.materials.paddingRight},on:{input:function(e){e.target.composing||t.$set(t.materials,"paddingRight",e.target.value)}}})]),t._v(" "),s("label",[s("span",{staticClass:"u-lab"},[t._v("垂直间距(px)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.materials.paddingBottom,expression:"materials.paddingBottom"}],staticClass:"u-ipt",attrs:{type:"text"},domProps:{value:t.materials.paddingBottom},on:{input:function(e){e.target.composing||t.$set(t.materials,"paddingBottom",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"m-form__section"},[s("h4",{staticClass:"ttl2"},[t._v("图片区域2：")]),t._v(" "),s("div",{staticClass:"m-form__item"},[s("h5",{staticClass:"ttl3"},[t._v("单元格")]),t._v(" "),s("div",{staticClass:"m-form__itemcnt"},[s("label",[s("span",{staticClass:"u-lab"},[t._v("每行列数")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.results.cols,expression:"results.cols"}],staticClass:"u-ipt",attrs:{type:"text"},domProps:{value:t.results.cols},on:{input:function(e){e.target.composing||t.$set(t.results,"cols",e.target.value)}}})]),t._v(" "),s("label",[s("span",{staticClass:"u-lab"},[t._v("水平间距(px)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.results.paddingRight,expression:"results.paddingRight"}],staticClass:"u-ipt",attrs:{type:"text"},domProps:{value:t.results.paddingRight},on:{input:function(e){e.target.composing||t.$set(t.results,"paddingRight",e.target.value)}}})]),t._v(" "),s("label",[s("span",{staticClass:"u-lab"},[t._v("垂直间距(px)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.results.paddingBottom,expression:"results.paddingBottom"}],staticClass:"u-ipt",attrs:{type:"text"},domProps:{value:t.results.paddingBottom},on:{input:function(e){e.target.composing||t.$set(t.results,"paddingBottom",e.target.value)}}})])])])])])])])]),t._v(" "),s("div",{staticClass:"g-page__bodyer"},[s("div",{staticClass:"m-canvas z-edit",style:{height:t.page.height+"px",padding:t.page.padding+"px"},attrs:{id:"canvas"}},[s("p",{staticClass:"u-corner u-corner-page"},[t._v("\n        文档宽度"+t._s(t.page.width)+"px * 高度"+t._s(t.page.height)+"px（A4比例纸张横向）\n      ")]),t._v(" "),s("div",{staticClass:"m-canvas__title"},[s("h2",{staticClass:"ttl",attrs:{contenteditable:""}},[t._v(t._s(t.title))])]),t._v(" "),s("div",{staticClass:"m-canvas__area m-canvas__material"},[s("p",{staticClass:"u-corner u-corner-material"},[s("span",[t._v("图片区域1")]),t._v(" "),s("i",{staticClass:"u-iconfont u-icon-wenjianjia",on:{click:function(e){return t.doFilesSelect("materials")}}})]),t._v(" "),s("ul",{staticClass:"m-imageList"},t._l(t.materials.list,(function(e,a){return s("li",{class:{"z-clearLeft":a%t.materials.cols==0},style:{width:1/t.materials.cols*100+"%",paddingBottom:t.materials.paddingBottom+"px",paddingRight:t.results.paddingRight+"px"}},[s("div",{staticClass:"m-imageList__cell"},[s("img",{staticClass:"img",attrs:{src:e.filepath}}),t._v(" "),s("p",{staticClass:"txt",attrs:{contenteditable:""}},[t._v(t._s(e.filename))]),t._v(" "),s("i",{staticClass:"u-iconfont u-icon-closeb",on:{click:function(e){return t.delItem("materials",a)}}})])])})),0)]),t._v(" "),s("div",{staticClass:"m-canvas__area m-canvas__result"},[s("p",{staticClass:"u-corner u-corner-result"},[s("span",[t._v("图片区域2")]),t._v(" "),s("i",{staticClass:"u-iconfont u-icon-wenjianjia",on:{click:function(e){return t.doFilesSelect("results")}}})]),t._v(" "),s("ul",{staticClass:"m-imageList"},t._l(t.results.list,(function(e,a){return s("li",{class:{"z-clearLeft":a%t.results.cols==0},style:{width:1/t.results.cols*100+"%",paddingBottom:t.results.paddingBottom+"px",paddingRight:t.results.paddingRight+"px"}},[s("div",{staticClass:"m-imageList__cell"},[s("img",{staticClass:"img",attrs:{src:e.filepath}}),t._v(" "),s("p",{staticClass:"txt"},[t._v(t._s(e.filename))]),t._v(" "),s("i",{staticClass:"u-iconfont u-icon-closeb",on:{click:function(e){return t.delItem("results",a)}}})])])})),0)])])]),t._v(" "),s("div",{staticClass:"g-page__footer"},[s("div",{staticClass:"g-page__footerSubmit"},[s("button",{staticClass:"u-btn u-btn-genarate",on:{click:t.generate}},[t._v("生成图片")])]),t._v(" "),s("div",{staticClass:"g-page__generate",attrs:{id:"image"}})]),t._v(" "),s("input",{ref:"fileIpt",staticStyle:{display:"none"},attrs:{type:"file",multiple:""},on:{change:t.filesSelected}})])});i._withStripped=!0;var n=s(4),l=s.n(n),o=s(0),r={data:function(){return{constant:{a4:{width:297,height:210,ratio:297/210}},setPanel:!1,page:{width:0,height:0,padding:30},materials:{list:[],cols:5,paddingBottom:40,paddingRight:40},results:{list:[],cols:4,paddingBottom:40,paddingRight:40},title:"编辑标题",curListname:""}},components:{},mounted:function(){var t=this;this.doResizePage(),window.addEventListener("resize",(function(e){t.doResizePage()}))},computed:{},methods:{doResizePage:function(){var t=document.getElementById("canvas").clientWidth,e=t/this.constant.a4.ratio;this.page.width=parseInt(t),this.page.height=parseInt(e)},generate:function(){var t=document.getElementById("canvas"),e=document.getElementById("image");l.a.toPng(t).then((function(t){var s=new Image;s.src=t,s.style.width="100%",e.appendChild(s)})).catch((function(t){console.error("oops, something went wrong!",t)}))},doFilesSelect:function(t){this.curListname=t,this.$refs.fileIpt.click()},filesSelected:function(t){var e=this,s=t.target.files;Array.prototype.forEach.call(s,(function(t,a){o.a.getFilesPath(t,(function(t){e[e.curListname].list.push({filename:s[a].name.replace(/\..*/,""),filepath:t})}))}))},delItem:function(t,e){this[t].list.splice(e,1)}}},c=s(1),d=Object(c.a)(r,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m-header"},[e("div",{staticClass:"m-header__logo"},[e("div",{staticClass:"m-header__logoSide"},[e("i",{staticClass:"u-iconfont u-icon-logo-m3"})]),this._v(" "),e("div",{staticClass:"m-header__logoMain"},[e("p",{staticClass:"txt"},[this._v("物料清单自动排版 "),e("i",{staticClass:"version"},[this._v("v0.1.1")])])])]),this._v(" "),e("div",{staticClass:"m-header__show"})])}],!1,null,"f5b4d784",null);d.options.__file="src/materialList.vue";var u=d.exports,p=document.getElementById("app");new a.a({render:function(t){return t(u)}}).$mount(p)},3:function(t,e,s){}});